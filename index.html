<html>
<head>
  <title>Play ROM</title>
</head>
<body>
  <h2>Welcome to McDonald's Farm!</h2>
  <canvas id="screen" width="480" height="320"></canvas>

  <script src="gba.js"></script>
  <script>
    const gba = new GameBoyAdvance();
    gba.setCanvas(document.getElementById("screen"));

    fetch("your_rom.gba")
      .then(r => r.arrayBuffer())
      .then(buffer => {
        gba.loadRom(buffer);
        gba.runStable();
      });

    // Mobile touch controls
    function press(keyCode) {
      const down = new KeyboardEvent("keydown", { code: keyCode });
      const up = new KeyboardEvent("keyup", { code: keyCode });
      window.dispatchEvent(down);
      setTimeout(() => window.dispatchEvent(up), 100);
    }
  </script>

  <div style="position:fixed; bottom:10px; width:100%; text-align:center;">
    <button onclick="press('ArrowLeft')">◀️</button>
    <button onclick="press('ArrowRight')">▶️</button>
    <button onclick="press('ArrowUp')">🔼</button>
    <button onclick="press('ArrowDown')">🔽</button>
    <button onclick="press('KeyZ')">🅐</button>
    <button onclick="press('KeyX')">🅑</button>
    <button onclick="press('Enter')">⏯ Start</button> <!-- Start Button -->
    <button onclick="press('ShiftRight')">🔘 Select</button> <!-- Select Button -->
  </div>
</body>
</html>