<html>
<head>
  <meta charset="utf-8" />
  <title>GBA Emulator</title>
  <style>
    body {
      background: black;
      color: white;
      text-align: center;
      font-family: sans-serif;
      margin: 0;
      padding: 0;
    }
    #screen {
      width: 100%;
      max-width: 480px;
      height: auto;
      image-rendering: pixelated;
      margin-top: 20px;
    }
    .controls {
      margin-top: 10px;
    }
    .btn {
      font-size: 20px;
      padding: 10px 20px;
      margin: 5px;
    }
  </style>
  <script src="gba.js"></script>
</head>
<body>
  <h2>My ROM Hack</h2>
  <canvas id="screen" width="240" height="160"></canvas>

  <div class="controls">
    <button class="btn" onclick="simulateKey(90)">A</button>
    <button class="btn" onclick="simulateKey(88)">B</button>
    <button class="btn" onclick="simulateKey(13)">Start</button>
    <button class="btn" onclick="simulateKey(16)">Select</button>
    <button class="btn" onclick="simulateKey(38)">Up</button>
    <button class="btn" onclick="simulateKey(40)">Down</button>
    <button class="btn" onclick="simulateKey(37)">Left</button>
    <button class="btn" onclick="simulateKey(39)">Right</button>
  </div>

  <script>
    const gba = new GameBoyAdvance();
    gba.setCanvas(document.getElementById("screen"));

    gba.setBiosFromFile("bios.bin");
    gba.setRomFromFile("game.gba");

    gba.logLevel = gba.LOG_ERROR;
    gba.keypad.eatInput = true;

    gba.runStable();

    function simulateKey(keyCode) {
      gba.keypad.keyDown(keyCode);
      setTimeout(() => gba.keypad.keyUp(keyCode), 100); // simulate key tap
    }
  </script>
</body>
</html>
